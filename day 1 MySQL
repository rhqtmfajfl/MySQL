day 1 

MySQL



강사명 김정GUS

메일 주소 unicodaum@hanmail.net

https://github.com/castello/javajungsuk_basic/blob/master/javajungsuk_basic_%EC%9A%94%EC%95%BD%EC%A7%91.pdf

css
html ajax

crud를 개인개인 짤줄 알게끔..





반갑습니다. 
여러분ㅋ들과 함께 mySQL기반의 JDBC, MongoDB의 기초 SERVLET&JSP 프로그래밍의
학습을 지도하게 되엉ㅆ습니다. 18일간의 일정이지만 2021년을 끝내고 2022년을 싲가하는 이 시점에 여러분들에게 알찬 시간이 될 수 있도록 함께 노력하면
좋겠습니다.

원활한 학습 진행을 위해 몇가지  설문을 진행

1() SQL 학습 경험이 있는지요?  있다면 어떠한 DBMS를 가지고 학습했는지

2) JDBC  학습 경험이 잇는지

3) MongoDB 학습 경험이 잇는지

4) WEB SERVER 프로그래밍 학습 경험이 잇는지 있다면 기술 종류를 작성해 주세요

5) 제가 가지고 있는 자바 실습 문제들이 있습니다.(기초부터 중급까지)
공유해드리면 구현해보시겠습니까? 자율 구현

6) 학습 관련 건의 사항있으면 작성해주세요

메일 제목 JAVA 전문과 과정(포스코ICT) - 이름(작성)  이창주


HTTP://NAVER.ME/XXF

http://naver.me/xxfye3Qs : 암호 1215







데이터베이스

DBMS 개요  

데이터 베이스 구축에 도움을 주는 데이터베이스이다.  DATA BASE MANAGEMENT SYSTEM

이전에는 다양한 데이터베이스를 구성하기위한 구조가 있었는데  relational 데이터 베이스가 구축이 되기 시작

데이터베이스 시스템에는 목적에 따라 다양한 데이터 집합(= 테이블) 을 만들 수 있다.

데이터 집합을 테이블로 구성하는게 릴레이션 데이터베이스이다.

여러 클라이언트나 사용자 삭제 추가

crud - create , read, update , delete



3페이지 DB/DBMS의 특징

데이터의 무결성
데이터베이스 안의 데이터는 오류가 없어야 한다.


독립성 
데이터 베이스는 어떤 기술로 접근하든 데이터에 대한 CRUD를 처리할 수 있다.


보 안
데이터베이스 안의 데이터에 데이터를 소유한 사람이나 데이터에 접근 이 허가된 사람만 접근 할 수 있어야
접근 할 때도 사용 자의 계정에 따라서 다른 권한 가짐


- 데이터 중 복 의 최소 화
동 일한 데이터가 여러 개 중 복 되어 저장되는 것 방지


- 응 용 프 로 그 램 제작 및 수 정이 쉬워짐
통 일된 방식으 로 응 용 프 로 그 램 작성 가능
유 지보 수 또 한 쉬워짐

- 데이터의 안전성 향상
대부 분 의 DBMS가 제공 하는 백업·복 원 기능 이용
데이터가 깨지는 문 제가 발생할 경우 원상으 로 복 원 , 복 구 하는 방법이 명확해짐


데이터베이스의 발전 DBMS가 있어야 구축 가능

4페이지 

SQL 

관계형 에서 데이터 베이스는 테이블이라는 것으로 구성된것이 중요

세로는 컬럼 필드 속성이라함

가로는 로우 레코드 튜플이라 한다.

데이터는 행단위로 저장된다.

테이블을 나누는 이유 -> 데이터 모델링

프라이머리 키 데이터의 데이터를 구별하는 역할을 한다.
프라이머리 키 가 아니면 데이터는 중복이 가능하다.


foreign key - 참조하는 컬럼이다 다른 테이블의 특정 컬럼의 값중에 하나만 참조할 수 있다.

foreign key 인 dept no는 다른 테이블의 컬럼을 참조한다.

테이블을 만들때 다른 어떤 테이블의 어떤 컬럼을 설정을 하면 데이터베이스에서 자동으로 

참조하는 대상은 다른 테이블의 프라이머리키를 참조하는게 대부분이나 꼭 프라이머리 키를 참조 하지 않아도 된다.




5 페이지

대부분 RDBMS 를 사용하고 있다.

빅데이터시 nosql 같은 몽고디비가 유용하다.

sql의 개요 



6페이지

프로젝트 시 dbms 꼭 사용하게 된다.


폭포수 모델이 있다.





7페이지

데이터 베이스 모델링 

현 실세계에서 사용되는 작업이나 사물들을 DBMS의 데이터베이스 개체로 옮기기위한 과정

개념적 모델링


논리적 모델링 


물리적 모델링 - 실제 테이블을 만드는 것

데이터 베이스 모델링이 제일 먼저 초기에 일어난다.


8페이지

기본키는

11페이지

사칙연산 할거면 숫자형 사칙연산 안할거면 문자형으로



12페이지 

MySQL 소개 

오라클에서 제작한 DBMS 소프트웨어



path에 데이터베이스의 주소 값으 넣어준다.


bin에 파일이 만은 이유 sydy . ㅈ미()dms rcnrkgksek.


///////////////////////////

.sql 은 안에 sql 명령들이 들어 있다.


파일안에 한꺼번에 실행 시키기 위한 명령어는 source 라는 명령어 이다.  

source employees.sql에 한꺼번에 실행

3년이나 10년이되면 자바의 코딩능력은 크게 차이가 없다.


///////////////////////

study.sql 분석

default charset은 데이터를 한국어로 만들어 준다.

이렇게 배치 방식 스크립트 방식이라고 한다.

스크립트 방식 또는 배치 방식이라고 부른다.



//////////////////



desc emp 하면 emp의 정볼를 보여 준다.



////////////

자바스크립트로 가면

객체를 통해서 사용하는 함수는 메서도

객쳋를 통해서 사용하지 않는 것은 함수이다.

///////////////////////////////////////////////////////

use sqldb;
select * from emp;

select * from locations;

desc locations;  #로케이션 테이블에 대한 정보를 보여 준다.

select * from algrade;

desc salgrade;


select * from course1;

select * from course2;

show tables;

select * from information_schema.table_constraints where table_name = "EMP";
# from 뒤에 테이블 이름이 와야되는데 우리가 만든게 온게 아니다 information_schema.table_contraints 
# 제약조건에는 테이블 이름 을 EMP로 준다면 대문자로 주든 소문자로 주든 알아서 비교해 준다.


select * from information_schema.table_constraints where table_name = "emp";


use sqldb;


select USER();   # MYSQL에서 제공하는 SELECT 함수


SELECT DATABASE();   # 현재  사용하고 있는 데이터 베이스 이름이 나온다.


///////////////////////////

요 구 사항 분 석과 시스 템 설계 그 리고 모 델링 

데이터베이스 모델링과 필수 용 어 
- 데이터베이스 모 델링


현실세계에서 사용 되는 데이터를 MySQL에 어떻게 옮 겨 놓 을 것인지를 결정하는 과정
저장할 정보 는 테이블(Table)이라는 형식에 맞춰 저장
쇼 핑몰 데이터 베이스 의 예



데이터 
- 하나하나의 단편적인 정보

정보는 있으나 아직 체계화 되지 못한 상태

테이블

데이터를 입력하기 위해 표 형태로 표현한 것

회원정보 테이블, 제품 정보 테이블



///////////////////프로젝트 시 피요한 내용

MySQL을 이용 한 데이터베이스 구 축 절차 

데이터베이스 구 축/관리 및 활용 의 전반적인 절차 



디비 생성 
테이블 생성 
데이터 입력
데이터 조회 활용 




//////////////////////////////////////////////////////

select 명령어



데이터 활용 
- SELECT 열 이름 FROM 테이블 이름 [WHERE 조 건]
모 든 데이터 출 력하기 (열 이름 대신 ‘ * ’ )
열을 선택해 데이터 출 력하기 (열 이름 나열)
특 정 데이터를 만족 하는 데이터 출 력하기 (WHERE절에 조 건 입력)


select 열 이름 from 테이블 이름 [where 조건];


데이터 활용

모든 데이터 출력하기

where 절은  모든 데이터 출력하기 (열 이름 대시 "+"

- 새로 운 테이블 생성

테이블 이름 에 space 가 들 어간 경우 의 처리(백틱[backtick]키 활용)
 Navigator 창에서 “Refresh All” 의 중요성
새로 테이블 을 만든 뒤 개체가 보 이지 않을 경우 필수 로 실행할 것


- 테이블 삭제
 DROP TABLE 테이블 이름
 
 
 SQL(Structured Query Language)
 
 SQL은 Structured Query Language (구 조 적 질의 언어)의 줄 임말로, 관계형 데이터베이스 시스 템(RDBMS)에서 자료 를
관리 및 처리하기 위해 설계된 언어


SQL 문 법은 크 게는 3가지의 종류로 나누 어진다.

sql 문법은 ddl dml dcl로 나눠진다. 

ddl은 데이



DDL(Data Definition Language, 데이터 정의 언어) 
 각 릴레이션을 정의하기 위해 사용 하는 언어 (CREATE, ALTER, DROP...) 릴레이션이 테이블로도 쓰인다.
 
 
DML(Data Manipulation Language, 데이터 조 작 언어) 
 데이터를 추 가/수 정/삭제하기 위한, 즉 데이터 관리를 위한 언어 (SELECT, INSERT, UPDATE...)
 
 
DCL(Data Control Language, 데이터 제어 언어) 
 사용 자 관리 및 사용 자별로 릴레이션 또 는 데이터를 관리하고 접근 하는 권한을 다루 기 위한 언어 (GRANT, REVOKE...
 


SQL(Structured Query Language) 


[ SQL의 언어적 특 성 ]
각 프 로 그 래밍 언어가 가진 고유한 특 성은 꼭 구 별 지어 알아 두 어야 사용 할 때 오 류 를 줄 일 수 있다. 
SQL은 다음 과 같은 언어적 특 성을 갖는 다.
SQL은 대소 문 자를 가리지 않는 다.
(단, 서버 환경이나 DBMS 종류에 따라 데이터베이스 또 는 필드 명에 대해 대소 문 자를 구 분 하기도 한다.)
SQL 명령은 반드 시 세미콜 론(;)으 로 끝 나야 한다.
고유의 값은 따옴 표('')로 감싸준 다. SELECT * FROM EMP WHERE NAME = ‘James’;
주 석은 일종 의 도 움 말로, 주 석 처리된 문 장은 프 로 그 램에서 동 작하지 않는 다. 한 줄 주 석은 문 장 앞에 -- 를 붙 여서
사용 한다. 여러 줄 주 석은 /* */ 로 묶는다.


//////////


select 절에서 from과 나머지를 다 생략 할 수 ㅣㅇㅆ다.


DB, TABLE, 열의 이름 이 확실하지 않을 때 조 회하는 방법 


현재 서버에 어떤 DB가 있는 지 보 기
 SHOW DATABASES;
 
 
현재 서버에 어떤 TABLE이 있는 지 보 기
데이터베이스 에 있는 테이블 정보 조 회
 SHOW TABLE STATUS;
 
 
 
테이블 이름 만 간단히 보 기
 SHOW TABLES;
 
 
 
 
employees 테이블 의 열이 무 엇이 있는 지 확인
 DESCRIBE emp 또 는 DESC emp;
 
 
 특 정 조 건의 데이터만 조 회 - <SELECT … FROM … WHERE> 
기본 적인 WHERE절
조 회하는 결과에 특 정한 조 건을 줘서 원하는 데이터만 보 고 싶을 때 사용


SELECT 필드 이름 FROM 테이블 이름 WHERE 조 건식;



select 에는 from 
            where
            group by
            havig
            order by 가 있다.
            
            
            select 열이름 
            from 테이블 이름
            where 조건
            
            
          
USE 구문

SELECT 문 학습 위해 사용할 데이터베이스 지정

지정해 놓은 후 특별히 다시 USE문 사용하거나 다른 DB를 사용하겠다고 명시하지 않는 이상 모든 SQL문은 지정 DB에서 수행

USE 데이터베이스 이름;

MySQL의 sqldb를 사용하기 위해서는 쿼리 창에 

use sqldb;
를 사용한다. 



테이블에서 모든 열 가져오기

select * from emp;


테이블에서 필요로 하는 열만 가져오기

select ename from  emp;

select ename, sal from emp;


select sal, ename from emp;


select * from emp where comm is null; 은 emp 테이블에서 comm이 null인것만 찾아낸다.







use sqldb;
select * from emp;

select * from locations;

desc locations;  #로케이션 테이블에 대한 정보를 보여 준다.

select * from algrade;

desc salgrade;


select * from course1;

select * from course2;

show tables;

select * from information_schema.table_constraints where table_name = "EMP";
# from 뒤에 테이블 이름이 와야되는데 우리가 만든게 온게 아니다 information_schema.table_contraints 
# 제약조건에는 테이블 이름 을 EMP로 준다면 대문자로 주든 소문자로 주든 알아서 비교해 준다.


select * from information_schema.table_constraints where table_name = "emp";


use sqldb;


select USER();

SELECT DATABASE();   # 현재  사용하고 있는 데이터 베이스 이름이 나온다.


select * from emp;
# 현재 시간이 나온다.

select now() from dual;

#dual은 내장된 테이블 

select now();
# 생략된 테이블 

# 오라클은 from 절이 없으면 안된다.
#select 절에 from 절을 생략 하면 한된다.

#오라클에서 제공하는 dual이 테이블 내요이 줄요한게 아니라 테이블의 결과를 한번만 나타내게 한다.

#mysql에서는 dual 기능을 내부에 넣어놓았다.

select sysdate(); # sysdatae는 오라클 함수 이다.alter

select 10+20; # 이명령은 mysql에서만 사용가능 오라클에서는 불가능

#select 절 
# from절
# having 절
# order by 절  데이터 테이블 정렬 해주는 절


# select select_expr

#order by 절에서는 asc가 기본이다 디폴트는 오름 차순이다.
#desc는 내림차순이다.


#select문 학습 위해 사용할 데이터베이스 지정

#지정해 놓은 후 특별히 다시 use 문 사용학나 다른 db를 사용하지 않겠다고 명시하지않는 이상 모든 db에서 수행

select * from emp;

# deptno에서 null인것은 나중에 join을 사용하위한 에시

# 웬만하면 코드의 가독성을 위해 컬럼명을 싸용하기alter

# 갖고 잇는 컬럼 명alter


select ename from emp;


select ename, sal from emp;



# 결과 집합 주언진 select를 통해 만들어진 result set


desc emp;  # 커럼 필드 이렴alter


# 기본적인 where절

select * from emp where ename = 'SMITH';


select * from emp where comm is not null;

#관계 연산자의 사용 
#or 연산자 : 했거나또는

#AND 연산자 하고 면서 ...그리고

#조건 연산자(=, < ,> <=, >=, <>, != 

#BETWEEN… AND와 IN( ) 그 리고 LIKE
#데이터가 숫 자로 구 성되어 있으 며 연속 적인 값 : BETWEEN … AND 사용


select * from emp where sal between 2000 and 3000;

# 2000보다 크고 3000보다 작은것
#alter

#이산적인 값의 조건 IN() 사용

select * from emp where deptno in(20, 30);

# in 연산자랑 or 연산자랑 같은 의미 이다.alter# 
#in뒤에는 여러가지  나열된 값들이 나올 수 있다.

#20번 부서와 30번 부서만 나오게 된다.

# 문자열의 내용 검색: like 사용(문자뒤에 % - 무엇이든 허용, 한글자와 매치 _ 사용

# where tilte like "java%" 타이틀이란 테이블이 있다고 할 때 java%는 자바가 앞에 나오고 뒤에 어떤 문자나 온다.

# where title like "%java%" 자바로 시작해도 되고 자바로 끝나도 되고 자바가 중간에 나와도 되는 것이다.

#where title like "%java"  자바 앞에 아무 숫자나 나올 수 있다. 자바로 끝나는 문자

#where title like "java_"는 java뒤에 한개의 문자가 오게 한ㄷ.
#where title like " java___" java 뒤에 3개의 문자가 오게 한ㄷ.alter

#like 연산자 : 패턴비교, 패턴문자 : %
# %는 - 0개 이상의 모든 문자, _ -임의의 한 문자.

# 잘못된 문법 은 where title = "%java%" 는 안된 등가 연산자로는 자바를 찾을 수 없다.

# 대문자 A로 시작하는 문자.

select * from emp where ename like 'A%';

select * from emp where hiredate like '1991%'; # 데이터가 없으므로 아무것도 나오지 않는다.
select * from emp where hiredate like '1982%';


#order by 절
# 결과물 에 대해 영향을 미치지는 않고 출 력되는 순 서를 조 절하는 구 문
# 기본 적으 로 오 름 차순 (ASCENDING) 정렬 
# 내림차순(DESCENDING)으 로 정렬하려면 열 이름 뒤에 DESC
# ORDER BY 구 문 을 혼 합해 사용 하는 구문도 가

select ename, sal from emp order by sal;

# 문자는 a - z 
# 대문자 A - Z 까지인데alter
# 한글은 가 - 힣 까지이다.

# 날짜는 어제 날짜가 더 작은 값이고 오늘 날짜가 더 큰값이된다.

# 예시 1970년 1월1일 0시 기준으로 이게 0이다.

# 1997-01-01-0시  최근일 수록 값이 더 크다.
#입사한지 큰 수


select ename, sal from emp order by sal desc;


 select ename, sal, hiredate from emp where sal >=2500 order by sal desc, hiredate;
 
 # ename,과 sal 의 데이터를 찾는데 sal이 2500이 넘는 사람중에서 order by sal은 내림차순으로 정렬 하고
 #hiredate는 내림 차순으로 정렬한다. 임사한지 오래된순 아무것도 안줬기 때문에 asc이다.
 
 select ename, sal, hiredate from emp where sal >=2500 order by sal desc, ename desc;
 
 #order by 절에서는 올수 있는 개수의 한계는 없다.
 
 
# 중복된 것은 하나만 남기는 DISTINCT

#중복된 것을 골 라서 세기 어려울 때 사용하는 구 문

#테이블 의 크 기가 클수록 효 율 적

#중복된 것은 1개씩만 보 여주 면서 출력

select job from emp;

#emp 테이블에서 job이 나온다 그런데 여기서 clerk salesman이 중복이 되어있다.alter
# 이때 똑같은 값을 하나만 나오게 하고 싶으면

select distinct job from emp;

# 찾고자 하는 속성 앞에 distinct를 붙이면 중복이 제거 된다.

select job, deptno from emp;

select distinct job, deptno from emp;

#여기에서 salesman 과 job이 모두 같아야만 모두 동일한 형태가 되야 중복이 제거 된다.

# select distinct job, distinct deptno from emp; -> 이거는 안됨


#상위의 N개만 출 력하는 ‘LIMIT N’ 구 문 사용
#출 력하는 개수 를 제한하는 LIMIT
#일부 를 보 기 위해 여러 건의 데이터를 출 력하는 부 담 줄 


# select 결과를 내보낼때 결과를 내보낸다.

select * from emp limit 3; # 앞에서 3개만 뽑아 낸다.

select * from emp order by sal desc limit 3;

#월급을 많이 받는 상위 3개를 뽑아내는 것과 같다.




select now(); # 속성명이 now()로 되어있다.

select now() as 현재시간; # now() 라는 함수식의 속성명을 현재시간이라고 정하겠다.

select ename, sal, sal+1.1 from emp; # 데이터 식도 올 수 있다.
select ename, sal, sal+1,1 from emp; # 데이터 식도 올 수 있다.


select ename 사원이름, sal 월급여, sal+1.1 "10%인상 월급여" from emp; 
# 여기서 as를 생략 할 수 있다.





내일 수업 그룹바이 그룹핑 해줘서 구하기 위해서
